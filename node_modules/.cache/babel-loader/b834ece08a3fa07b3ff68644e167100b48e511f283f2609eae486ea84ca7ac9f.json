{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Admin/Downloads/karbonFx/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Admin/Downloads/karbonFx/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import AddEditUser from\"./pages/AddEditUser\";import{Utils}from\"./utils\";import DeleteUser from\"./pages/DeleteUser\";import UserCard from\"./components/UserCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PAGE_SIZE=6;function App(){var _URLSearchParams$get;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedUser=_useState2[0],setSelectedUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),delUser=_useState4[0],setDelUser=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),mode=_useState6[0],setMode=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),users=_useState8[0],setUsers=_useState8[1];useEffect(function(){setUsers(Utils.retrieveUsers());},[]);var addUser=function addUser(user){var tmp=[user].concat(_toConsumableArray(users));setUsers(tmp);Utils.storeUsers(tmp);};var updateUser=function updateUser(user){users.map(function(e,index){if(e.timeAdded==user.timeAdded)users[index]=user;});Utils.storeUsers(users);};var deleteUser=function deleteUser(user){var filtered=users.filter(function(e){return e.timeAdded!=user.timeAdded;});setUsers(filtered);Utils.storeUsers(filtered);};var closeUser=function closeUser(){setMode(null);setSelectedUser(null);};var rawPage=(_URLSearchParams$get=new URLSearchParams(window.location.search).get(\"page\"))!==null&&_URLSearchParams$get!==void 0?_URLSearchParams$get:\"1\";var page=parseInt(rawPage);var pages=Utils.getPages(users.length,PAGE_SIZE);var pagedUsers=function pagedUsers(page){var start=Utils.getStartEnd(page,PAGE_SIZE);var items=users.slice(start[0],start[1]);if(items.length>0){return items;}return users.slice(0,PAGE_SIZE);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"header flex flex-middle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"in-h flex flex-middle\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"flex-fill m-0\",children:\"User Inventory\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-avatar\",children:\"U\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container body\",children:[/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-middle in\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"flex-fill m-0\",children:\"List of users\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setMode(\"add\");},className:\"btn btn-success\",children:\"Add user\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"in\",children:[users.length==0?/*#__PURE__*/_jsxs(\"div\",{className:\"err-box\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"icon-l m-0\",children:\"\\uD83D\\uDE14\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"m-0\",children:\"It's lonely in here!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:\"You have not added any users yet.\"})]}):null,/*#__PURE__*/_jsx(\"div\",{className:\"user-grid\",children:pagedUsers(page).map(function(e){return/*#__PURE__*/_jsx(UserCard,{user:e,onDelete:function onDelete(e){setDelUser(e);},onAction:function onAction(mode,e){setMode(mode);setSelectedUser(e);}},e.timeAdded);})})]}),pages.length<=1?null:/*#__PURE__*/_jsx(\"div\",{className:\"in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pagination flex flex-middle flex-end\",children:pages.map(function(e){var currentPage=page==e+1;return/*#__PURE__*/_jsx(\"a\",{className:currentPage?\"active\":\"\",href:currentPage?'javascript:void(0)':\"?page=\"+(e+1),children:e+1},\"page-\"+e);})})})]})]}),mode?/*#__PURE__*/_jsx(AddEditUser,{mode:mode,user:selectedUser,onClose:closeUser,onSubmit:function onSubmit(user,edited){if(edited)updateUser(user);else addUser(user);closeUser();}}):null,delUser?/*#__PURE__*/_jsx(DeleteUser,{user:delUser,onCancel:function onCancel(){setDelUser(null);closeUser();},onConfirm:function onConfirm(user){setDelUser(null);deleteUser(user);closeUser();}}):null]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","AddEditUser","Utils","DeleteUser","UserCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PAGE_SIZE","App","_URLSearchParams$get","_useState","_useState2","_slicedToArray","selectedUser","setSelectedUser","_useState3","_useState4","delUser","setDelUser","_useState5","_useState6","mode","setMode","_useState7","_useState8","users","setUsers","retrieveUsers","addUser","user","tmp","concat","_toConsumableArray","storeUsers","updateUser","map","e","index","timeAdded","deleteUser","filtered","filter","closeUser","rawPage","URLSearchParams","window","location","search","get","page","parseInt","pages","getPages","length","pagedUsers","start","getStartEnd","items","slice","children","className","onClick","onDelete","onAction","currentPage","href","onClose","onSubmit","edited","onCancel","onConfirm"],"sources":["C:/Users/Admin/Downloads/karbonFx/src/App.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport AddEditUser from \"./pages/AddEditUser\";\nimport {EditMode, User} from \"./types/user_types\";\nimport {Utils} from \"./utils\";\nimport DeleteUser from \"./pages/DeleteUser\";\nimport UserCard from \"./components/UserCard\";\n\nconst PAGE_SIZE = 6;\n\nfunction App() {\n    const [selectedUser, setSelectedUser] = useState<User | null>(null);\n    const [delUser, setDelUser] = useState<User | null>(null);\n    const [mode, setMode] = useState<EditMode>(null);\n    const [users, setUsers] = useState<User[]>([]);\n\n    useEffect(() => {\n        setUsers(Utils.retrieveUsers());\n    }, []);\n    const addUser = (user: User) => {\n        let tmp = [user, ...users];\n        setUsers(tmp);\n        Utils.storeUsers(tmp);\n    }\n\n\n    const updateUser = (user: User) => {\n        users.map((e, index) => {\n            if (e.timeAdded == user.timeAdded) users[index] = user\n        })\n        Utils.storeUsers(users);\n    }\n\n\n    const deleteUser = (user: User) => {\n        let filtered = users.filter((e) => (e.timeAdded != user.timeAdded));\n        setUsers(filtered);\n        Utils.storeUsers(filtered);\n    }\n\n    const closeUser = () => {\n        setMode(null);\n        setSelectedUser(null);\n    }\n\n    let rawPage = new URLSearchParams(window.location.search).get(\"page\") ?? \"1\";\n    let page = parseInt(rawPage);\n    let pages = Utils.getPages(users.length, PAGE_SIZE);\n\n    const pagedUsers = (page: number): User[] => {\n        let start = Utils.getStartEnd(page, PAGE_SIZE);\n        let items = users.slice(start[0], start[1]);\n        if (items.length > 0) {\n            return items;\n        }\n        return users.slice(0, PAGE_SIZE);\n    }\n    return (\n        <>\n            <div>\n                <header className=\"header flex flex-middle\">\n                    <div className={\"container\"}>\n                        <div className={\"in-h flex flex-middle\"}>\n                            <h2 className={\"flex-fill m-0\"}>User Inventory</h2>\n                            <button className={\"btn btn-avatar\"}>U</button>\n                        </div>\n                    </div>\n                </header>\n                <div className={\"container body\"}>\n                    <nav>\n                        <div className={\"flex flex-middle in\"}>\n                            <h2 className={\"flex-fill m-0\"}>List of users</h2>\n                            <button onClick={() => {\n                                setMode(\"add\");\n                            }} className={\"btn btn-success\"}>Add user\n                            </button>\n                        </div>\n                    </nav>\n                    <div className={\"in\"}>\n                        {users.length == 0 ? <div className={\"err-box\"}>\n                            <h1 className={\"icon-l m-0\"}>ðŸ˜”</h1>\n                            <h2 className={\"m-0\"}>It's lonely in here!</h2>\n                            <p className={\"m-0\"}>You have not added any users yet.</p>\n                        </div> : null}\n                        <div className={\"user-grid\"}>\n                            {pagedUsers(page).map((e) => (\n                                <UserCard key={e.timeAdded} user={e} onDelete={(e) => {\n                                    setDelUser(e!);\n                                }} onAction={(mode, e) => {\n                                    setMode(mode);\n                                    setSelectedUser(e);\n                                }}/>\n                            ))}\n                        </div>\n                    </div>\n                    {pages.length <= 1 ? null :\n                        <div className={\"in\"}>\n                            <div className={\"pagination flex flex-middle flex-end\"}>\n                                {pages.map((e) => {\n                                    let currentPage = page == (e + 1);\n                                    return (\n                                        <a key={\"page-\" + e}\n                                           className={currentPage ? \"active\" : \"\"}\n                                           href={currentPage ? 'javascript:void(0)' : \"?page=\" + (e + 1)}>{e + 1}</a>);\n                                })}\n                            </div>\n                        </div>\n                    }\n                </div>\n            </div>\n            {mode ?\n                <AddEditUser\n                    mode={mode} user={selectedUser} onClose={closeUser}\n                    onSubmit={(user, edited) => {\n                        if (edited) updateUser(user);\n                        else addUser(user);\n                        closeUser();\n                    }}/> : null}\n            {delUser ? <DeleteUser\n                user={delUser} onCancel={() => {\n                setDelUser(null);\n                closeUser();\n            }} onConfirm={(user) => {\n                setDelUser(null);\n                deleteUser(user!);\n                closeUser();\n            }\n            }/> : null}\n        </>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}